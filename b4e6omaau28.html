<div>In Equations&nbsp;<span class="au-ref raw v1">\ref{eq:1}</span> and&nbsp;<span class="au-ref raw v1">\ref{eq:2}</span>,&nbsp;<span class="math ltx_Math v1">\(T^{\alpha^\prime\leftrightarrow\gamma}\)</span>,&nbsp;<span class="math ltx_Math v1">\(g^{\alpha^\prime}\)</span>,&nbsp;<span class="math ltx_Math v1">\(g^{\gamma}\)</span>,&nbsp;<span class="math ltx_Math v1">\(O\)</span> and&nbsp;<span class="math ltx_Math v1">\(\Delta g\)</span> are matrices representing the orientation relationship between parent and product phases, orientation matrix of the product phase,&nbsp;orientation matrix of the parent phase, symmetry operator, and angular deviation, respectively.&nbsp;The m and n subscripts correspond to the 24 variants for the OR. In the ideal case, when an OR holds, angular deviation (<span class="math ltx_Math v1">\(\Delta g\)</span>) in Equations&nbsp;<span class="au-ref raw v1">\ref{eq:1}</span> and&nbsp;<span class="au-ref raw v1">\ref{eq:2}</span> must be equal to&nbsp;<span class="math ltx_Math v1">\(0\)</span>&nbsp;. Therefore one can find the best&nbsp;<span class="math ltx_Math v1">\(T^{\alpha^\prime\leftrightarrow\gamma}\)</span>&nbsp;matrix by 
minimizing&nbsp;<span class="math ltx_Math v1">\(\Delta g\)</span> for the grain boundaries. In principle, only grain boundaries in which the OR holds (i.e. where both grains are derived from the same parent grain) should be included in this calculation. Including other boundaries increase the error but since the number of grain boundaries exhibiting the OR is expected to be vastly larger than the number of prior parent grain
boundaries (which evidently do not hold the OR), the noise added can be ignored. This is a reasonable assumption since the martensitic phase
transformation is accompanied by grain refinement and all the newly generated grain
boundaries have misorientations that hold the OR.</div><div>Although the search for the existing orientation relationship&nbsp; (<span class="math ltx_Math v1">\(T^{\alpha^\prime\leftrightarrow\gamma}\)</span>)   could be performed without grain boundary selection (at cost of an increased error), the following technique can be  applied to improve this step. By taking advantage of the prior knowledge about the theoretical  ORs, one of them (e.g. K-S) can be used to evaluate the initial values of&nbsp;<span class="math ltx_Math v1">\(\Delta g\)</span>. Since the optimized&nbsp;<span class="math ltx_Math v1">\(T^{\alpha^\prime\leftrightarrow\gamma}\)</span> and the theoretical OR are expected to be close (less than a few degrees of deviation) the grain boundaries which hold the OR  should have&nbsp;<span class="math ltx_Math v1">\(\Delta g\)</span> values near&nbsp;<span class="math ltx_Math v1">\(0\)</span>. Therefore selecting boundaries with &nbsp;<span class="math ltx_Math v1">\(\Delta g\)</span> values lower than a threshold (current implementation defaults to&nbsp;<span class="math ltx_Math v1">\(10^\circ\)</span>)  reduces the error of the calculation in a fully automated manner.</div><div>There are two alternative methods to calculate grain boundary
misorientations&nbsp;<span class="math ltx_Math v1">\(\Delta g\)</span>. One is based on the average orientation of both
neighboring grains. The other one is based on the orientation in the
immediate vicinity of the grain boundary, where only the first layer of
voxels at each side of the grain boundary is selected. Slightly
different values of OR are obtained by the two strategies due to plastic
strain accommodation during phase transformation and associated
orientation gradients in the bulk of the grains&nbsp;<cite class="ltx_cite raw v1">\cite{miyamoto2009accurate}</cite>.&nbsp; The presented  method of the OR calculation was validated with an Fe-29%Ni alloy. The results have been presented in section 4.</div><div></div>