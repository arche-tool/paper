<h1 data-label="833026" class="ltx_title_section">Reconstruction algorithm</h1><div>The reconstruction algorithm consists of two major stages: 1)
calculation of existing orientation relationship and 2) clustering grains by parental relationship. The first stage generates input information
for the second stage. The use of the first stage is optional, as one
could input a theoretical OR or an OR measured/calculated from an external
source, but itâ€™s highly recommended as the precise definition of the OR
has a direct impact on the final outcome of the reconstruction procedure. The
proper value of the OR highlights the gap between grains coming from distinct
parents and narrows the distance between related grains.</div><div>Both stages have a pre-processing step to identify some microstructure
features. The two main features that are relevant for the reconstruction
algorithm are grain boundary (GB) surfaces and grain volumes. Those features
are identified, respectively, as a set of discrete voxel faces and
discrete voxel volumes derived from the orientation grid provided by the
input ANG file, which is a standard file format that contains the basic data produced during an EBSD scan by OIM data collection software.</div><h2 data-label="707851" class="ltx_title_subsection">Pre-processing</h2><div>Both OR calculation and phase reconstruction are based on the abstract
concept of a graph formed by grains and their grain boundaries, as well as the
crystallographic orientation and misorientation associated with each entity. The canonical
method to obtain this kind of information is through a crystallographic orientation scan (collected by e.g. the EBSD technique), which is -regardless of the format (e.g. ANG or CTF)- a simple grid of
discrete orientation points. <span class="au-background-yellow" data-background="true" data-comment-id="182315"><span class="au-background-yellow" data-background="true" data-comment-id="182315">The input data can be of two- or three-dimensional (2D and 3D, respectively) nature. A conventional EBSD measurement provides 2D microstructural information, while utilization of the 3D-EBSD technique&nbsp;</span></span><cite class="ltx_cite raw v1">\cite{Naghdy_2017,8511652}</cite><span class="au-background-yellow" data-background="true" data-comment-id="182315"> enables a full microstructural characterization through a set of closely spaced   2D orientation maps. The presented algorithms are compatible with both types of data, however,&nbsp;a pre-processing step aiming to identify the
microstructure graph based on the input orientation map(s) is necessary.</span></div><div>The algorithm starts by parsing the ANG file and converting it to a
rectangular grid (in case the input file is using a hexagonal grid), then
each measured point is converted into a voxel representation. A&nbsp;<span class="au-background-yellow" data-background="true" data-comment-id="179660" data-is-resolved="true">voxel</span> is
the&nbsp;<span class="au-background-yellow" data-background="true" data-comment-id="181211" data-is-resolved="true">volumetric atomic unit&nbsp;</span>in the three-dimensional regular grid, therefore its  regular position and well-defined surface
boundaries can be indexed.</div>