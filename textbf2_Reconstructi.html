<h1 data-label="833026" class="ltx_title_section">Reconstruction algorithm</h1><div>The reconstruction algorithm consists of two major stages: 1)
calculation of observed orientation relationship and 2) clustering grain
by parental relationship. The first stage generates input information
for the second stage. The use of the first stage is optional, as one
could input a theoretical OR or OR measured/calculated from an external
source, but itâ€™s highly recommended as the precise definition of the OR
has a direct impact on the final outcome of the reconstruction. The
proper value of OR highlights the gap between grain coming from distinct
parents and narrows the distance between related grains.</div><div>Both stages have a pre-processing step to identify some microstructure
features. The two main features that are relevant for the reconstruction
algorithm are: grain boundary surfaces and grain volumes. Those features
are identified, respectively, as a set of discrete voxel faces and
discrete voxel volumes derived from the orientation grid provided by the
input ANG file.</div><h2 data-label="707851" class="ltx_title_subsection">Pre-processing</h2><div>Both OR calculation and phase reconstruction are based on the abstract
concept of graph formed by grains and its grain boundaries, as well as the
crystallographic orientation and misorientaion associated to each entity. The cannonical
method to obtain such kind of information is through EBSD scan maps. But
those are, regardless of the format ANG or CTF, a simple grid of
discrete orientation points. And, in this situation, a pre-processing step to identify the
microstructure graph is necessary.</div><div>The algorithm starts by parsing the ANG file and converting it to a
rectangular grid (if the input file is using the hexagonal grid), then
each measured point is converted into a voxel representation. A <span class="au-background-yellow" data-background="true" data-comment-id="179660">voxel</span> is
a volume atomic unit in a three-dimensional regular grid, therefore it
has a regular position that can be indexed and well defined surface
boundaries.</div>